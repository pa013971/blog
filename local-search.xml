<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>NAME.COMå»ºç«‹æ†‘è­‰</title>
    <link href="/blog/2022/06/13/NAME.COM%E5%BB%BA%E7%AB%8B%E6%86%91%E8%AD%89/"/>
    <url>/blog/2022/06/13/NAME.COM%E5%BB%BA%E7%AB%8B%E6%86%91%E8%AD%89/</url>
    
    <content type="html"><![CDATA[<h1 id="æ›´æ–°æ†‘è­‰-1-NAME-COM-SSL-æ†‘è­‰æ›´æ–°"><a href="#æ›´æ–°æ†‘è­‰-1-NAME-COM-SSL-æ†‘è­‰æ›´æ–°" class="headerlink" title="æ›´æ–°æ†‘è­‰#1 NAME.COM SSL æ†‘è­‰æ›´æ–°"></a>æ›´æ–°æ†‘è­‰#1 NAME.COM SSL æ†‘è­‰æ›´æ–°</h1><h3 id="ç¬¬ä¸€æ­¥ã€ç”³è«‹-SSL-CERTIFICATES"><a href="#ç¬¬ä¸€æ­¥ã€ç”³è«‹-SSL-CERTIFICATES" class="headerlink" title="ç¬¬ä¸€æ­¥ã€ç”³è«‹ SSL CERTIFICATES"></a>ç¬¬ä¸€æ­¥ã€ç”³è«‹ SSL CERTIFICATES</h3><p>è«‹è‡³ NAME.COM ç”³è«‹ SSL CERTIFICATES ä¸¦ç«‹å³è¨­ç½®</p><p><img src="/blog/2022/06/13/NAME.COM%E5%BB%BA%E7%AB%8B%E6%86%91%E8%AD%89/1655101790321.jpg" alt="SSL CERTIFICATES ç”³è«‹ç¯„ä¾‹åœ–"></p><p>å¡«å¯«ç¶²åŸŸå€‹äººè³‡æ–™</p><p><img src="/blog/2022/06/13/NAME.COM%E5%BB%BA%E7%AB%8B%E6%86%91%E8%AD%89/1655101880682.jpg" alt="Contact information ç¤ºæ„åœ–"></p><p>ç•™ CERTIFICATE SIGNING REQUEST (CSR) å…ˆä¸å¡«</p><h3 id="ç¬¬äºŒæ­¥ã€ç”¢ç”Ÿ-SSL-æ†‘è­‰ç°½ç½²è¦æ±‚ï¼ˆCSRï¼‰"><a href="#ç¬¬äºŒæ­¥ã€ç”¢ç”Ÿ-SSL-æ†‘è­‰ç°½ç½²è¦æ±‚ï¼ˆCSRï¼‰" class="headerlink" title="ç¬¬äºŒæ­¥ã€ç”¢ç”Ÿ SSL æ†‘è­‰ç°½ç½²è¦æ±‚ï¼ˆCSRï¼‰"></a>ç¬¬äºŒæ­¥ã€ç”¢ç”Ÿ SSL æ†‘è­‰ç°½ç½²è¦æ±‚ï¼ˆCSRï¼‰</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Linux">sudo openssl req -nodes -newkey rsa:2048 -sha256 -keyout myserver.key -out myserver.csr -utf8<br></code></pre></td></tr></tbody></table></figure><ul><li><p>-newkey rsa:2048ï¼š ç”¢ç”Ÿ CSR èˆ‡ä¸€å€‹ 2048 ä½å…ƒçš„ RSA å¯†é‘°ï¼›</p></li><li><p>-sha256ï¼šä½¿ç”¨ SHA-2ï¼ŒSHA256 é›œæ¹Šæ¼”ç®—æ³•ï¼ˆhash algorithmï¼‰</p></li><li><p>-keyout myserver.keyï¼šå°‡å¯†é‘°å„²å­˜åœ¨ç•¶ä¸‹ç›®éŒ„çš„ã€Œmyserver.keyã€æª”æ¡ˆä¸­ã€‚</p></li><li><p>-out myserver.csrï¼šå°‡ CSR æª”æ¡ˆå„²å­˜åœ¨ç•¶ä¸‹ç›®éŒ„çš„ã€Œmyserver.csrã€æª”æ¡ˆä¸­ã€‚</p></li></ul><p>åŸ·è¡Œå‘½ä»¤ä¹‹å¾Œï¼Œç³»çµ±æœƒæç¤ºæ‚¨è¼¸å…¥è³‡æ–™ï¼Œé€™è³‡æ–™æ˜¯æ†‘è­‰é©—è­‰å–®ä½åœ¨é©—è­‰æ†‘è­‰æ™‚æœƒæŸ¥é–±çš„å€‹äººè³‡æ–™</p><p><img src="/blog/2022/06/13/NAME.COM%E5%BB%BA%E7%AB%8B%E6%86%91%E8%AD%89/1655109081353.jpg" alt="å¡«å¯«æ†‘è­‰è³‡æ–™ç¯„ä¾‹åœ–"></p><ul><li><p>Country Name äºŒå­—å…ƒåœ‹ç¢¼ : TW</p></li><li><p>State or Province Name å·æˆ–çœåç¨± : Taiwan</p></li><li><p>Locality Name åŸå¸‚åç¨± : Kaohsiung</p></li><li><p>Organization Name å…¬å¸åç¨± : Company Name CO., LTD.</p></li><li><p>Organization Unit Name éƒ¨é–€åç¨± : (å¯ä¸å¡«)</p></li><li><p>Common Name ç¶²åŸŸå : <a href="http://www.google.com/">www.google.com</a></p></li><li><p>Email Address é›»å­ä¿¡ç®± : (å¯ä¸å¡«)</p></li><li><p>A challenge password å¯†ç¢¼ : (å¯ä¸å¡«)</p></li><li><p>An optional company name å…¶ä»–çš„å…¬å¸åç¨± : (å¯ä¸å¡«)</p></li></ul><p>è³‡æ–™å¡«å¯«å®Œç²å¾— ã€Œmyserver.keyã€ åŠ ã€Œmyserver.csrã€å…©å€‹æª”æ¡ˆ</p><p>è«‹å°‡é€™ç”¢ç”Ÿå‡ºä¾†çš„æª”æ¡ˆä¿å­˜å¥½ï¼Œä»¥ä¾¿æœªä¾†ä½¿ç”¨</p><p><img src="/blog/2022/06/13/NAME.COM%E5%BB%BA%E7%AB%8B%E6%86%91%E8%AD%89/1655110345826.jpg" alt="ç²å¾—æ†‘è­‰è³‡æ–™"></p><h3 id="ç¬¬ä¸‰æ­¥ã€å®Œæˆè¨­å®šä¸¦å–å¾—æ†‘è­‰-crt"><a href="#ç¬¬ä¸‰æ­¥ã€å®Œæˆè¨­å®šä¸¦å–å¾—æ†‘è­‰-crt" class="headerlink" title="ç¬¬ä¸‰æ­¥ã€å®Œæˆè¨­å®šä¸¦å–å¾—æ†‘è­‰ (crt)"></a>ç¬¬ä¸‰æ­¥ã€å®Œæˆè¨­å®šä¸¦å–å¾—æ†‘è­‰ (crt)</h3><p>å°‡å‰›å‰›ç”¢ç”Ÿçš„ csr è¤‡è£½å…§æ–‡ä¸¦è²¼å…¥ CERTIFICATE SIGNING REQUEST (CSR)</p><p><img src="/blog/2022/06/13/NAME.COM%E5%BB%BA%E7%AB%8B%E6%86%91%E8%AD%89/1655111563482.jpg" alt="CERTIFICATE SIGNING REQUEST"></p><p>ç©ºæ ¼å³æ–¹æœƒé¡¯ç¤ºè³‡è¨Šæ˜¯å¦æ­£ç¢º</p><p>å¦‚æœéƒ½æ²’å•é¡Œå°±æ†‘è­‰ä¸­å¿ƒå°‡æœƒçµ¦äºˆä¸­ç¹¼æ†‘è­‰ (CRT or PEM)</p><p><img src="/blog/2022/06/13/NAME.COM%E5%BB%BA%E7%AB%8B%E6%86%91%E8%AD%89/1655111920824.jpg" alt="å–å¾— CRT"></p><p>å¾—åˆ°é€™äº›æ†‘è­‰æ¥ä¸‹ä¾†å°±å¯ä»¥æ”¾ç½®ä¼ºæœå™¨ä¸­å›‰ !</p><h3 id="Thank-you-smile"><a href="#Thank-you-smile" class="headerlink" title="Thank you! :smile:"></a>Thank you! <span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></h3><hr><p>åƒè€ƒ</p><ul><li><a href="https://haway.30cm.gg/ssl-key-csr-crt-pem/">ç§æœ‰é‡‘é‘°ã€CSR ã€CRT èˆ‡ ä¸­ç¹¼æ†‘è­‰</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>SSL</category>
      
    </categories>
    
    
    <tags>
      
      <tag>SSL</tag>
      
      <tag>CSR</tag>
      
      <tag>NAME.COM</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>logrotate åŸºæœ¬é…ç½®</title>
    <link href="/blog/2022/05/19/logrotate-%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/"/>
    <url>/blog/2022/05/19/logrotate-%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="logrotate-åŸºæœ¬é…ç½®"><a href="#logrotate-åŸºæœ¬é…ç½®" class="headerlink" title="logrotate åŸºæœ¬é…ç½®"></a>logrotate åŸºæœ¬é…ç½®</h1><h3 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p>ä½¿ç”¨ Linux å…§å»ºçš„ logrotate å·¥å…·ï¼Œå®šæœŸæ¸…ç©ºå’Œå£“ç¸® Log æª”æ¡ˆã€‚<br>Log æ²’æœ‰åš rotate ï¼ŒLog æª”æ¡ˆå°‡æœƒä¸æ–·æˆé•·åˆ°æ’çˆ†ç©ºé–“ã€‚</p><h3 id="ç¬¬ä¸€æ­¥ã€-ç§»å‹•åˆ°-Logrotate-d-è³‡æ–™å¤¾"><a href="#ç¬¬ä¸€æ­¥ã€-ç§»å‹•åˆ°-Logrotate-d-è³‡æ–™å¤¾" class="headerlink" title="ç¬¬ä¸€æ­¥ã€ ç§»å‹•åˆ° Logrotate.d è³‡æ–™å¤¾"></a>ç¬¬ä¸€æ­¥ã€ ç§»å‹•åˆ° Logrotate.d è³‡æ–™å¤¾</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Linux">cd /etc/logrotate.d<br></code></pre></td></tr></tbody></table></figure><h3 id="ç¬¬äºŒæ­¥ã€-å»ºç«‹æª”æ¡ˆ"><a href="#ç¬¬äºŒæ­¥ã€-å»ºç«‹æª”æ¡ˆ" class="headerlink" title="ç¬¬äºŒæ­¥ã€ å»ºç«‹æª”æ¡ˆ"></a>ç¬¬äºŒæ­¥ã€ å»ºç«‹æª”æ¡ˆ</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Linux">sudo vi **project_name**<br></code></pre></td></tr></tbody></table></figure><ul><li><strong>project_name</strong> è«‹å¡«å…¥å°ˆæ¡ˆåç¨±ï¼Œæ–¹ä¾¿è¾¨è­˜</li></ul><h3 id="ç¬¬ä¸‰æ­¥ã€-å¡«å…¥è¨­å®š"><a href="#ç¬¬ä¸‰æ­¥ã€-å¡«å…¥è¨­å®š" class="headerlink" title="ç¬¬ä¸‰æ­¥ã€ å¡«å…¥è¨­å®š"></a>ç¬¬ä¸‰æ­¥ã€ å¡«å…¥è¨­å®š</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs logrotate">/home/**user_name**/**project_name**/*.log {<br>    daily <br>    dateext<br>    missingok<br>    rotate 30<br>    notifempty<br>    copytruncate<br>}<br></code></pre></td></tr></tbody></table></figure><ul><li><p><strong>user_name</strong> è«‹å¡«å…¥ä½¿ç”¨è€…åç¨±</p></li><li><p><strong>project_name</strong> è«‹å¡«å…¥å°ˆæ¡ˆåç¨±</p></li><li><p>daily è¡¨ç¤ºæ¯å¤©æ•´ç†ï¼Œä¹Ÿå¯ä»¥æ”¹æˆ weekly æˆ– monthly</p></li><li><p>dateext è¡¨ç¤ºæª”æ¡ˆè£œä¸Š rotate çš„æ—¥æœŸ  |  EX: xxx.log-%Y%m%d</p></li><li><p>missingok è¡¨ç¤ºå¦‚æœæ‰¾ä¸åˆ° log æª”ä¹Ÿæ²’é—œç³»</p></li><li><p>rotate 30 è¡¨ç¤ºä¿ç•™æœ€è¿‘ 30 ä»½</p></li><li><p>compress è¡¨ç¤ºå£“ç¸®èµ·ä¾†ï¼Œé è¨­ç”¨ gzip  |  EX: xxx.log-%Y%m%d.tar.gz</p></li><li><p>delaycompress è¡¨ç¤ºå»¶å¾Œå£“ç¸®ç›´åˆ°ä¸‹ä¸€æ¬¡ rotate</p></li><li><p>notifempty è¡¨ç¤ºå¦‚æœ log æª”æ˜¯ç©ºçš„ï¼Œå°±ä¸ rotate</p></li><li><p>copytruncate å…ˆè¤‡è£½ log æª”çš„å…§å®¹å¾Œï¼Œåœ¨æ¸…ç©º</p></li></ul><h3 id="ç¬¬å››æ­¥ã€-ç«‹å³åŸ·è¡Œè¨­å®š"><a href="#ç¬¬å››æ­¥ã€-ç«‹å³åŸ·è¡Œè¨­å®š" class="headerlink" title="ç¬¬å››æ­¥ã€ ç«‹å³åŸ·è¡Œè¨­å®š"></a>ç¬¬å››æ­¥ã€ ç«‹å³åŸ·è¡Œè¨­å®š</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs Linux">sudo /usr/sbin/logrotate -v /etc/logrotate.conf<br></code></pre></td></tr></tbody></table></figure><h3 id="Thank-you-smile"><a href="#Thank-you-smile" class="headerlink" title="Thank you! :smile:"></a>Thank you! <span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></h3><hr><p>åƒè€ƒ</p><ul><li><a href="https://www.tecmint.com/install-logrotate-to-manage-log-rotation-in-linux/">How to Setup and Manage Log Rotation Using Logrotate in Linux</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>Linux</category>
      
    </categories>
    
    
    <tags>
      
      <tag>logrotate</tag>
      
      <tag>Linux</tag>
      
      <tag>log</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Nginx å¸¸ç”¨é…ç½®</title>
    <link href="/blog/2022/05/06/Nginx%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/"/>
    <url>/blog/2022/05/06/Nginx%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE/</url>
    
    <content type="html"><![CDATA[<h1 id="Nginx-å¸¸ç”¨é…ç½®"><a href="#Nginx-å¸¸ç”¨é…ç½®" class="headerlink" title="Nginx å¸¸ç”¨é…ç½®"></a>Nginx å¸¸ç”¨é…ç½®</h1><h3 id="ä¸‹è¼‰ç«™é»"><a href="#ä¸‹è¼‰ç«™é»" class="headerlink" title="ä¸‹è¼‰ç«™é»"></a>ä¸‹è¼‰ç«™é»</h3><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">location</span> /download {    <br>    <span class="hljs-attribute">alias</span> /home/user/elivolution; <span class="hljs-comment"># è³‡æ–™å¤¾è·¯å¾‘</span><br>    <span class="hljs-attribute">autoindex</span> <span class="hljs-literal">on</span>;<br>    <span class="hljs-attribute">charset</span> utf-<span class="hljs-number">8</span>;<br>}<br></code></pre></td></tr></tbody></table></figure><ul><li>alias è³‡æ–™å¤¾è·¯å¾‘</li><li>autoindex é–‹å•Ÿç›®éŒ„ç€è¦½</li><li>charset é˜²æ­¢ä¸­æ–‡äº‚ç¢¼éœ€åŠ å…¥ utf-8 or gbk</li></ul><h3 id="åå‘ä»£ç†ä¸¦å•Ÿç”¨-CORS"><a href="#åå‘ä»£ç†ä¸¦å•Ÿç”¨-CORS" class="headerlink" title="åå‘ä»£ç†ä¸¦å•Ÿç”¨ CORS"></a>åå‘ä»£ç†ä¸¦å•Ÿç”¨ CORS</h3><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> {<br>    <span class="hljs-comment">#ä»¥ä¸Šå¯©ç•¥</span><br><br>    <span class="hljs-attribute">location</span> <span class="hljs-regexp">~ ^/(computer/|mobile|home)</span> {<br>        <span class="hljs-attribute">add_header</span> <span class="hljs-string">'Access-Control-Allow-Origin'</span> *ç¶²åŸŸ server_name*;<br>        <span class="hljs-attribute">add_header</span> <span class="hljs-string">'Access-Control-Allow-Credentials'</span> <span class="hljs-string">'true'</span>;<br>        <span class="hljs-attribute">add_header</span> <span class="hljs-string">'Access-Control-Allow-Headers'</span> <span class="hljs-string">'Authorization,Accept,Origin,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Content-Range,Range'</span>;<br>        <span class="hljs-attribute">add_header</span> <span class="hljs-string">'Access-Control-Allow-Methods'</span> <span class="hljs-string">'GET,POST,OPTIONS,PUT,DELETE,PATCH'</span>;<br>    <br>        <span class="hljs-attribute">if</span> ($request_method = <span class="hljs-string">'OPTIONS'</span>) {<br>            <span class="hljs-attribute">add_header</span> <span class="hljs-string">'Access-Control-Max-Age'</span> <span class="hljs-number">1728000</span>;<br>            <span class="hljs-attribute">add_header</span> <span class="hljs-string">'Content-Type'</span> <span class="hljs-string">'text/plain charset=UTF-8'</span>;<br>            <span class="hljs-attribute">add_header</span> <span class="hljs-string">'Content-Length'</span> <span class="hljs-number">0</span>;<br>            <span class="hljs-attribute">return</span> <span class="hljs-number">204</span>;<br>        }<br>    <br>        <span class="hljs-attribute">proxy_redirect</span> <span class="hljs-literal">off</span>;<br>        <span class="hljs-attribute">proxy_set_header</span> host $host;<br>        <span class="hljs-attribute">proxy_set_header</span> X-real-ip $remote_addr;<br>        <span class="hljs-attribute">proxy_set_header</span> X-forward-for $proxy_add_x_forwarded_for;<br>        <span class="hljs-attribute">proxy_pass</span> http://127.0.0.1:3000;<br>  }<br>}<br></code></pre></td></tr></tbody></table></figure><ul><li>location ~ ^/(computer/|mobile|home)<br>ç•¶ç¶²å€ç‚º <a href="http://domain/computer/name">http://domain/computer/name</a> æˆ– <a href="http://domain/mobile">http://domain/mobile</a> æ™‚é€²è¡Œè½‰å€</li><li>proxy_pass å¡«å…¥ä½ç½®</li></ul><h3 id="http-è½‰-https"><a href="#http-è½‰-https" class="headerlink" title="http è½‰ https"></a>http è½‰ https</h3><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> {<br>    <span class="hljs-attribute">listen</span> <span class="hljs-number">80</span>;<br>    <span class="hljs-attribute">listen</span> [::]:<span class="hljs-number">80</span>;<br>    <span class="hljs-attribute">server_name</span> server_name;<br>    <span class="hljs-attribute">return</span> <span class="hljs-number">301</span> https://$host$request_uri;<br>}<br></code></pre></td></tr></tbody></table></figure><h3 id="Vue-router"><a href="#Vue-router" class="headerlink" title="Vue-router"></a>Vue-router</h3><figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-section">server</span> {<br>    <span class="hljs-comment">#ä»¥ä¸Šå¯©ç•¥</span><br><br>    <span class="hljs-attribute">location</span> / {<br>        <span class="hljs-attribute">root</span>   /home/deploy/project_name/dist;<br>        <span class="hljs-attribute">try_files</span> $uri $uri/ /index.html;<br>    }<br>}<br></code></pre></td></tr></tbody></table></figure><h3 id="é˜²æ­¢æ©Ÿå™¨äºº"><a href="#é˜²æ­¢æ©Ÿå™¨äºº" class="headerlink" title="é˜²æ­¢æ©Ÿå™¨äºº"></a>é˜²æ­¢æ©Ÿå™¨äºº</h3><figure class="highlight javascript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript">server {<br>    #ä»¥ä¸Šå¯©ç•¥<br><br>    <span class="hljs-keyword">if</span> ($http_user_agent ~* <span class="hljs-string">"SemrushBot|PetalBot|BOT/0.1|YandexBot|Linguee Bot"</span> ) {<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">403</span>;             <br>    }<br>}<br></code></pre></td></tr></tbody></table></figure><h3 id="Thank-you-smile"><a href="#Thank-you-smile" class="headerlink" title="Thank you! :smile:"></a>Thank you! <span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></h3><hr><p>åƒè€ƒ</p><ul><li><a href="https://iter01.com/515464.html">Nginx é…ç½®ä¸‹è¼‰ç«™é»</a></li><li><a href="https://stackoverflow.com/questions/45986631/how-to-enable-cors-in-nginx-proxy-server">How to enable CORS in Nginx proxy server?</a></li><li><a href="https://router.vuejs.org/guide/essentials/history-mode.html#nginx">Vue Router</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>DevOps</category>
      
    </categories>
    
    
    <tags>
      
      <tag>nginx</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IIS æ¶è¨­ VUE ç«™å°</title>
    <link href="/blog/2022/05/05/IIS%E6%9E%B6%E8%A8%ADVUE%E7%AB%99%E5%8F%B0/"/>
    <url>/blog/2022/05/05/IIS%E6%9E%B6%E8%A8%ADVUE%E7%AB%99%E5%8F%B0/</url>
    
    <content type="html"><![CDATA[<h1 id="IIS-æ¶è¨­-vue-ç«™å°"><a href="#IIS-æ¶è¨­-vue-ç«™å°" class="headerlink" title="IIS æ¶è¨­ vue ç«™å°"></a>IIS æ¶è¨­ vue ç«™å°</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>å¾…è£œ!</p><hr><h2 id="æº–å‚™"><a href="#æº–å‚™" class="headerlink" title="æº–å‚™"></a>æº–å‚™</h2><p>IIS</p><p>URL Rewrite<br>ä¸‹è¼‰ç¶²å€ï¼š<a href="https://www.iis.net/downloads/microsoft/url-rewrite">https://www.iis.net/downloads/microsoft/url-rewrite</a></p><p><em>å®‰è£å®Œç•¢å¾Œåœ¨é€²è¡Œä¸‹ä¸€æ­¥</em></p><hr><h2 id="é–‹å§‹"><a href="#é–‹å§‹" class="headerlink" title="é–‹å§‹"></a>é–‹å§‹</h2><h3 id="ç¬¬ä¸€æ­¥-å»ºç«‹web-config"><a href="#ç¬¬ä¸€æ­¥-å»ºç«‹web-config" class="headerlink" title="ç¬¬ä¸€æ­¥ å»ºç«‹web.config"></a>ç¬¬ä¸€æ­¥ å»ºç«‹web.config</h3><p>ç‚ºäº†è®“ IIS èƒ½å¤ é…ç½® vue-router<br>æˆ‘å€‘éœ€è¦ä¸€ä»½ web.config</p><p>å®˜æ–¹ç¯„ä¾‹ <a href="https://router.vuejs.org/guide/essentials/history-mode.html#internet-information-services-iis">Vue Router</a></p><figure class="highlight xml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">configuration</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">system.webServer</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">rewrite</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">rules</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">rule</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"Handle History Mode and custom 404/500"</span> <span class="hljs-attr">stopProcessing</span>=<span class="hljs-string">"true"</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">match</span> <span class="hljs-attr">url</span>=<span class="hljs-string">"(.*)"</span> /&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">conditions</span> <span class="hljs-attr">logicalGrouping</span>=<span class="hljs-string">"MatchAll"</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">"{REQUEST_FILENAME}"</span> <span class="hljs-attr">matchType</span>=<span class="hljs-string">"IsFile"</span> <span class="hljs-attr">negate</span>=<span class="hljs-string">"true"</span> /&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">add</span> <span class="hljs-attr">input</span>=<span class="hljs-string">"{REQUEST_FILENAME}"</span> <span class="hljs-attr">matchType</span>=<span class="hljs-string">"IsDirectory"</span> <span class="hljs-attr">negate</span>=<span class="hljs-string">"true"</span> /&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">conditions</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"Rewrite"</span> <span class="hljs-attr">url</span>=<span class="hljs-string">"/"</span> /&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">rule</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">rules</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">rewrite</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">system.webServer</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">configuration</span>&gt;</span><br></code></pre></td></tr></tbody></table></figure><p>ä¸¦å°‡æ­¤æª”æ¡ˆå„²å­˜è‡³ vue.js å°ˆæ¡ˆçš„ public åº•ä¸‹<br>é€™æ¨£ä¸€ä¾†ï¼Œæ¯æ¬¡å»ºç½®çš„æ™‚å€™å°±æœƒè‡ªå‹•å°‡ web.config ç”¢ç”Ÿè‡³ dist è³‡æ–™å¤¾</p><p><img src="/blog/2022/05/05/IIS%E6%9E%B6%E8%A8%ADVUE%E7%AB%99%E5%8F%B0/1651734577669_1.jpg" alt="web.config å­˜è‡³ public åº•ä¸‹"></p><h3 id="ç¬¬äºŒæ­¥-å»ºç½®å°ˆæ¡ˆ"><a href="#ç¬¬äºŒæ­¥-å»ºç½®å°ˆæ¡ˆ" class="headerlink" title="ç¬¬äºŒæ­¥ å»ºç½®å°ˆæ¡ˆ"></a>ç¬¬äºŒæ­¥ å»ºç½®å°ˆæ¡ˆ</h3><figure class="highlight plaintext"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs npm">npm run build<br></code></pre></td></tr></tbody></table></figure><p><img src="/blog/2022/05/05/IIS%E6%9E%B6%E8%A8%ADVUE%E7%AB%99%E5%8F%B0/1651734577669_2.jpg" alt="å»ºç½®å®Œæˆç¯„ä¾‹åœ–"></p><h3 id="ç¬¬ä¸‰æ­¥-è¨­å®š-IIS"><a href="#ç¬¬ä¸‰æ­¥-è¨­å®š-IIS" class="headerlink" title="ç¬¬ä¸‰æ­¥ è¨­å®š IIS"></a>ç¬¬ä¸‰æ­¥ è¨­å®š IIS</h3><p><img src="/blog/2022/05/05/IIS%E6%9E%B6%E8%A8%ADVUE%E7%AB%99%E5%8F%B0/1651734577669_3.jpg" alt="æ–°å¢ç¶²ç«™"></p><p>å¯¦é«”è·¯å¾‘éœ€æŒ‡å®šåˆ°ä½ˆç½²ç”¢ç”Ÿçš„ dist è³‡</p><p>å¦‚æœæ²’æœ‰domainä¸»æ©Ÿåç¨±å¯ç‚ºç©º</p><p>è¨­å®šå®Œæˆå¾Œï¼Œå³å¯æ¸¬è©¦ vue ç«™å°æ˜¯å¦æ¶è¨­æˆåŠŸ</p><h3 id="Thank-you-smile"><a href="#Thank-you-smile" class="headerlink" title="Thank you! :smile:"></a>Thank you! <span class="github-emoji"><span>ğŸ˜„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f604.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></h3><hr><p>åƒè€ƒ</p><ul><li><a href="https://router.vuejs.org/guide/essentials/history-mode.html">Vue Router</a></li><li><a href="https://www.linkedin.com/pulse/hosting-vue-js-spa-build-microsoft-iis-zainul-zain">Hosting Vue JS SPA build on Microsoft IIS</a></li></ul>]]></content>
    
    
    <categories>
      
      <category>DevOps</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IIS</tag>
      
      <tag>Vue Router</tag>
      
      <tag>web.config</tag>
      
      <tag>URL Rewrite</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>IIS å¯¦ç¾åå‘ä»£ç†</title>
    <link href="/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/"/>
    <url>/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/</url>
    
    <content type="html"><![CDATA[<h1 id="IIS-å¯¦ç¾åå‘ä»£ç†"><a href="#IIS-å¯¦ç¾åå‘ä»£ç†" class="headerlink" title="IIS å¯¦ç¾åå‘ä»£ç†"></a>IIS å¯¦ç¾åå‘ä»£ç†</h1><h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>åå‘ä»£ç†ï¼ˆReverse Proxyï¼‰æ–¹å¼æ˜¯æŒ‡ä»¥ä»£ç†ä¼ºæœå™¨ä¾†æ¥å—internetä¸Šçš„é€£æ¥è«‹æ±‚ï¼Œç„¶å¾Œå°‡è«‹æ±‚è½‰ç™¼çµ¦å…§éƒ¨ç¶²çµ¡ä¸Šçš„ä¼ºæœå™¨ï¼Œä¸¦å°‡å¾ä¼ºæœå™¨ä¸Šå¾—åˆ°çš„çµæœè¿”å›çµ¦internetä¸Šè«‹æ±‚é€£æ¥çš„å®¢æˆ¶ç«¯ï¼Œæ­¤æ™‚ä»£ç†ä¼ºæœå™¨å°å¤–å°±è¡¨ç¾ç‚ºä¸€å€‹åå‘ä»£ç†ä¼ºæœå™¨ã€‚</p><hr><h2 id="æº–å‚™"><a href="#æº–å‚™" class="headerlink" title="æº–å‚™"></a>æº–å‚™</h2><p>IIS</p><p>Application Request Routing<br>ä¸‹è¼‰ç¶²å€ï¼š<a href="https://www.iis.net/downloads/microsoft/application-request-routing">https://www.iis.net/downloads/microsoft/application-request-routing</a></p><p>URL Rewrite<br>ä¸‹è¼‰ç¶²å€ï¼š<a href="https://www.iis.net/downloads/microsoft/url-rewrite">https://www.iis.net/downloads/microsoft/url-rewrite</a></p><hr><h2 id="é–‹å§‹"><a href="#é–‹å§‹" class="headerlink" title="é–‹å§‹"></a>é–‹å§‹</h2><p>ç•¶ä¸‹è¼‰ä¸¦å®‰è£å®Œæˆå¾Œ IIS æœƒå¤šå‡ºå…©å€‹åŠŸèƒ½<br><img src="/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/1651667908894_new.jpg" alt="æº–å‚™å®Œæˆæ¨£å­"></p><p>ç¬¬ä¸€æ­¥ã€å•Ÿå‹•ä»£ç†<br><img src="/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/1651667908894_1.jpg" alt="é»æ“Šè¨­ç½®"></p><p><img src="/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/1651668036918_2.jpg" alt="é»æ“Šåå‘ä»£ç†è¨­å®š"></p><p><img src="/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/1651668062343_3.jpg" alt="å°‡åå‘ä»£ç†é–‹å•Ÿ"></p><p>ç¬¬äºŒæ­¥ã€æ–°å¢åå‘ä»£ç†ï¼Œè¨­ç½® URL è¦å‰‡</p><p><img src="/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/1651668152705_1.jpg" alt="é»æ“Šç«™å°è¨­å®šURL Rewrite"></p><p><img src="/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/1651668152705_2.jpg" alt="æ–°å¢è¦å‰‡ / ç©ºç™½è¦å‰‡"></p><p><img src="/blog/2022/05/04/IIS%E5%AF%A6%E7%8F%BE%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/1651668152705_3.jpg" alt="è¨­å®šä¸¦å¥—ç”¨"></p><p>è¨­ç½®å®Œç•¢å³å®Œæˆ</p>]]></content>
    
    
    <categories>
      
      <category>DevOps</category>
      
    </categories>
    
    
    <tags>
      
      <tag>IIS</tag>
      
      <tag>URL Rewrite</tag>
      
      <tag>Reverse Proxy</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
